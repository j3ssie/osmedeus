name: test-notification
kind: module
description: Test notification triggers
tags: test,notification

params:
  - name: target
    required: true

steps:
  - name: trigger-step-started
    type: function
    function: |
      send_webhook_event("step_started", {step: "trigger-step-started", target: "{{target}}"})

  - name: echo-test
    type: bash
    command: echo "Testing notifications for {{target}}"

  - name: trigger-step-complete
    type: function
    function: |
      send_webhook_event("step_complete", {step: "echo-test", target: "{{target}}"})
      notify_webhook("Workflow completed for {{target}}")
