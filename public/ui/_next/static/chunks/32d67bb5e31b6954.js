(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65476,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcwIcon",()=>t],65476)},78078,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["EyeIcon",()=>t],78078)},36356,58857,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUpIcon",()=>a],36356);let s=(0,t.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDownIcon",()=>s],58857)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card/80 backdrop-blur-sm text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm transition-all duration-300 hover:shadow-[0_0_30px_rgba(32,178,170,0.12)] hover:-translate-y-0.5",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("flex flex-col gap-1.5 px-6",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}function c({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>r,"CardTitle",()=>o])},70152,e=>{"use strict";function t(e,[t,a]){return Math.min(a,Math.max(t,e))}e.s(["clamp",()=>t])},24375,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDownIcon",()=>t],24375)},47627,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})})}function r({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...s})}function o({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s})}function l({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s})}function n({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("h-10 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&_[role=checkbox]]:translate-y-[2px]",e),...s})}function c({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&_[role=checkbox]]:translate-y-[2px]",e),...s})}function i({className:e,...s}){return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...s})}e.s(["Table",()=>s,"TableBody",()=>o,"TableCaption",()=>i,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>l])},29383,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47627),r=e.i(36356),o=e.i(58857),l=e.i(24375),n=e.i(47163);function c({children:e,field:c,currentSort:i,onSort:d,className:u}){let p=i.field===c,m=a.useMemo(()=>u?u.includes("text-center")?"justify-center":u.includes("text-right")?"justify-end":"justify-start":"justify-start",[u]);return(0,t.jsx)(s.TableHead,{className:(0,n.cn)("cursor-pointer select-none hover:bg-muted/50 transition-colors",u),onClick:()=>d(c),children:(0,t.jsxs)("div",{className:(0,n.cn)("flex items-center gap-1",m),children:[e,p?"asc"===i.direction?(0,t.jsx)(r.ArrowUpIcon,{className:"size-3.5 text-foreground"}):(0,t.jsx)(o.ArrowDownIcon,{className:"size-3.5 text-foreground"}):(0,t.jsx)(l.ArrowUpDownIcon,{className:"size-3.5 text-muted-foreground/50"})]})})}e.s(["SortableTableHead",()=>c])},30374,e=>{"use strict";var t=e.i(43476),a=e.i(26999),s=e.i(95926),r=e.i(47163);function o({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function l({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function n({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function c({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s})}function i({className:e,children:o,...l}){return(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/95 backdrop-blur-md p-6 shadow-[0_0_40px_rgba(32,178,170,0.1)] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:max-w-lg sm:rounded-xl",e),...l,children:[o,(0,t.jsxs)(a.Close,{className:"absolute right-4 top-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(s.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function p({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg font-semibold leading-none",e),...s})}function m({className:e,...s}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-sm text-muted-foreground",e),...s})}e.s(["Dialog",()=>o,"DialogContent",()=>i,"DialogDescription",()=>m,"DialogFooter",()=>u,"DialogHeader",()=>d,"DialogTitle",()=>p,"DialogTrigger",()=>l])},91888,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2Icon",()=>t],91888)},82935,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(55161),r=e.i(62280),o=e.i(72536);let l=[{id:"evt-001",topic:"webhook.received",eventId:"evt-001",name:"push",source:"github",dataType:"json",data:'{"repository":"example.com","ref":"refs/heads/main"}',workspace:"example.com",runId:"run-demo-001",workflowName:"subdomain-enum",processed:!0,createdAt:new Date(Date.now()-18e5),processedAt:new Date(Date.now()-174e4)},{id:"evt-002",topic:"tasks.started",eventId:"evt-002",name:"scan_started",source:"osmedeus",dataType:"text",data:"scan started",workspace:"example.com",runId:"run-demo-002",workflowName:"full-recon",processed:!0,createdAt:new Date(Date.now()-72e4),processedAt:new Date(Date.now()-66e4)},{id:"evt-003",topic:"tasks.failed",eventId:"evt-003",name:"scan_failed",source:"osmedeus",dataType:"text",data:"task failed",workspace:"acme.io",runId:"run-demo-003",workflowName:"vulnerability-scan",processed:!1,createdAt:new Date(Date.now()-3e5),error:"Connection timeout after 5 retries"}];async function n(e){let t=e.page??1,a=e.pageSize??20,n=(t-1)*a,c=e.filters??{};if((0,o.isDemoMode)()){let e=(c.topic??"").trim().toLowerCase(),s=(c.name??"").trim().toLowerCase(),r=(c.source??"").trim().toLowerCase(),o=(c.workspace??"").trim().toLowerCase(),i=(c.runId??"").trim().toLowerCase(),d=(c.workflowName??"").trim().toLowerCase(),u=l.filter(t=>(!e||!!t.topic.toLowerCase().includes(e))&&(!s||!!t.name.toLowerCase().includes(s))&&(!r||!!t.source.toLowerCase().includes(r))&&(!o||String(t.workspace??"").toLowerCase()===o)&&(!i||String(t.runId??"").toLowerCase()===i)&&(!d||String(t.workflowName??"").toLowerCase()===d)&&("boolean"!=typeof c.processed||t.processed===c.processed)&&!0);return{data:u.slice(n,n+a),pagination:{page:t,pageSize:a,totalItems:u.length,totalPages:Math.ceil(u.length/a)}}}let i={offset:n,limit:a};c.topic&&(i.topic=c.topic),c.name&&(i.name=c.name),c.source&&(i.source=c.source),c.workspace&&(i.workspace=c.workspace),c.runId&&(i.run_id=c.runId),c.workflowName&&(i.workflow_name=c.workflowName),"boolean"==typeof c.processed&&(i.processed=String(c.processed));let d=await s.http.get(`${r.API_PREFIX}/event-logs`,{params:i}),u=(d.data?.data||[]).map(e=>({id:String(e.id??e.event_id??`${e.topic}-${e.created_at}`),topic:e.topic??"",eventId:e.event_id??"",name:e.name??"",source:e.source??"",dataType:e.data_type,data:e.data,workspace:e.workspace,runId:e.run_id,workflowName:e.workflow_name,processed:!!e.processed,createdAt:e.created_at?new Date(e.created_at):new Date,processedAt:e.processed_at?new Date(e.processed_at):void 0,error:e.error})),p=d.data?.pagination?.total??u.length,m=d.data?.pagination?.limit??a;return{data:u,pagination:{page:Math.floor((d.data?.pagination?.offset??n)/m)+1,pageSize:m,totalItems:p,totalPages:Math.ceil(p/m)}}}async function c(){(0,o.isDemoMode)()||(await s.http.post(`${r.API_PREFIX}/database/tables/runs/clear`,{force:!0}),await s.http.post(`${r.API_PREFIX}/database/tables/step_results/clear`,{force:!0}),await s.http.post(`${r.API_PREFIX}/database/tables/event_logs/clear`,{force:!0}))}var i=e.i(70065),d=e.i(67881),u=e.i(23750),p=e.i(65476),m=e.i(78078),x=e.i(91888),h=e.i(30374),f=e.i(62870),g=e.i(94179),w=e.i(46696),j=e.i(29383);function v(){let[e,s]=a.useState([]),[r,o]=a.useState(!0),[l,v]=a.useState(""),[b,y]=a.useState(null),[N,k]=a.useState(!1),[S,C]=a.useState(null),[I,T]=a.useState(!1),[D,A]=a.useState(!1),[_,M]=a.useState(1),[P,L]=a.useState(20),[z,E]=a.useState(null),[B,H]=a.useState({}),[R,V]=a.useState({field:null,direction:"asc"}),F=a.useMemo(()=>{let t=l.trim().toLowerCase();return t?e.filter(e=>[e.topic,e.name,e.source,e.workspace,e.runId,e.workflowName,e.eventId,e.dataType,e.data,e.error].filter(Boolean).join("\n").toLowerCase().includes(t)):e},[e,l]),U=a.useMemo(()=>{if(!R.field)return F;let e="asc"===R.direction?1:-1,t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),a=e=>{switch(R.field){case"topic":return e.topic??"";case"name":return e.name??"";case"source":return e.source??"";case"workspace":return e.workspace??"";case"workflow":return e.workflowName??"";case"processed":return+!!e.processed;default:return""}};return[...F].sort((s,r)=>{let o=a(s),l=a(r),n=0;return 0!==(n="number"==typeof o&&"number"==typeof l?o-l:t.compare(String(o),String(l)))?n*e:(r.createdAt?.getTime?.()??0)-(s.createdAt?.getTime?.()??0)})},[F,R.direction,R.field]),O=a.useMemo(()=>{let t=new Set;return e.forEach(e=>{e.workspace&&t.add(e.workspace)}),Array.from(t).sort((e,t)=>e.localeCompare(t))},[e]),W=e=>{V(t=>t.field===e?{field:e,direction:"asc"===t.direction?"desc":"asc"}:{field:e,direction:"asc"})},$=a.useCallback(async()=>{try{o(!0);let e=await n({page:_,pageSize:P,filters:{topic:B.topic?.trim()||void 0,workspace:B.workspace?.trim()||void 0,processed:"boolean"==typeof B.processed?B.processed:void 0}});s(e.data),E(e.pagination)}catch(e){w.toast.error("Failed to load events",{description:e instanceof Error?e.message:""})}finally{o(!1)}},[_,P,B]);a.useEffect(()=>{$()},[$]);let X=async e=>{y(e),C(e),k(!0)},q=async()=>{try{A(!0),await c(),w.toast.success("Event tables cleared"),T(!1),1===_?await $():M(1)}catch(e){w.toast.error("Failed to clear tables",{description:e instanceof Error?e.message:""})}finally{A(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{children:"Event Logs"}),(0,t.jsx)(i.CardDescription,{children:"Filter by topic, workspace, or processed status"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.Button,{variant:"outline",onClick:()=>M(1),children:[(0,t.jsx)(p.RefreshCcwIcon,{className:"mr-2 size-4"}),"Apply"]}),(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>{H({}),v(""),M(1),L(20)},children:"Reset"}),(0,t.jsxs)(d.Button,{variant:"outline",onClick:()=>T(!0),className:"gap-2 rounded-md border-red-300 text-red-700 hover:bg-red-500/10 hover:shadow-none dark:border-red-800 dark:text-red-300 dark:hover:bg-red-400/10",children:[(0,t.jsx)(x.Trash2Icon,{className:"size-4"}),"Empty Table"]})]})]})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 py-2",children:[(0,t.jsx)(u.Input,{placeholder:"Search",value:l,onChange:e=>v(e.target.value),className:"w-[360px] lg:w-[520px]"}),(0,t.jsx)(u.Input,{placeholder:"Topic",value:B.topic??"",onChange:e=>H(t=>({...t,topic:e.target.value})),className:"max-w-[200px]"}),(0,t.jsxs)(f.Select,{value:B.workspace||"all",onValueChange:e=>{H(t=>({...t,workspace:"all"===e?void 0:e})),M(1)},children:[(0,t.jsx)(f.SelectTrigger,{className:"max-w-[200px]",children:(0,t.jsx)(f.SelectValue,{placeholder:"Workspace"})}),(0,t.jsxs)(f.SelectContent,{children:[(0,t.jsx)(f.SelectItem,{value:"all",children:"All Workspaces"}),O.map(e=>(0,t.jsx)(f.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)(f.Select,{value:"boolean"==typeof B.processed?String(B.processed):"all",onValueChange:e=>{H(t=>({...t,processed:"all"===e?void 0:"true"===e})),M(1)},children:[(0,t.jsx)(f.SelectTrigger,{className:"max-w-[180px]",children:(0,t.jsx)(f.SelectValue,{placeholder:"Processed"})}),(0,t.jsxs)(f.SelectContent,{children:[(0,t.jsx)(f.SelectItem,{value:"all",children:"All"}),(0,t.jsx)(f.SelectItem,{value:"true",children:"Processed"}),(0,t.jsx)(f.SelectItem,{value:"false",children:"Unprocessed"})]})]}),(0,t.jsxs)(f.Select,{value:String(P),onValueChange:e=>{let t=parseInt(e,10);L(Number.isNaN(t)?20:t),M(1)},children:[(0,t.jsx)(f.SelectTrigger,{className:"max-w-[140px]",children:(0,t.jsx)(f.SelectValue,{placeholder:"Page Size"})}),(0,t.jsxs)(f.SelectContent,{children:[(0,t.jsx)(f.SelectItem,{value:"20",children:"20"}),(0,t.jsx)(f.SelectItem,{value:"50",children:"50"}),(0,t.jsx)(f.SelectItem,{value:"100",children:"100"})]})]})]}),r?(0,t.jsx)("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading..."}):0===e.length?(0,t.jsx)("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"No events"}):0===F.length?(0,t.jsx)("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"No matching events"}):(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)(j.SortableTableHead,{field:"topic",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Topic"}),(0,t.jsx)(j.SortableTableHead,{field:"name",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Name"}),(0,t.jsx)(j.SortableTableHead,{field:"source",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Source"}),(0,t.jsx)(j.SortableTableHead,{field:"workspace",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Workspace"}),(0,t.jsx)(j.SortableTableHead,{field:"workflow",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Workflow"}),(0,t.jsx)(j.SortableTableHead,{field:"processed",currentSort:R,onSort:e=>W(e),className:"py-2",children:"Processed"}),(0,t.jsx)("th",{className:"h-10 px-4 py-2 text-left align-middle font-medium text-muted-foreground",children:"Detail"})]})}),(0,t.jsx)("tbody",{children:U.map(e=>{let a,s;return(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(g.Badge,{variant:(a=e.topic.toLowerCase()).includes("completed")||a.includes("success")?"success":a.includes("started")||a.includes("running")?"info":a.includes("failed")||a.includes("error")?"destructive":"secondary",children:e.topic})}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(g.Badge,{variant:"executor"===(s=(e.source||"").toLowerCase())||"api"===s?"info":"scheduler"===s?"secondary":"outline",children:e.source})}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.workspace||"-"}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.workflowName||"-"}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(g.Badge,{variant:e.processed?"success":"warning",children:e.processed?"Processed":"Unprocessed"})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(d.Button,{variant:"outline",size:"icon-sm",onClick:()=>X(e),"aria-label":"View detail",children:(0,t.jsx)(m.EyeIcon,{className:"size-4"})})})]},e.id)})})]}),z&&z.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 py-3",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",(z.page-1)*z.pageSize+1," to"," ",Math.min(z.page*z.pageSize,z.totalItems)," of"," ",z.totalItems.toLocaleString()," results"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>M(e=>Math.max(1,e-1)),disabled:z.page<=1,children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,z.totalPages)},(e,a)=>{let s;return s=z.totalPages<=5||z.page<=3?a+1:z.page>=z.totalPages-2?z.totalPages-4+a:z.page-2+a,(0,t.jsx)(d.Button,{variant:z.page===s?"default":"outline",size:"sm",className:"w-9",onClick:()=>M(s),children:s},s)})}),(0,t.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>M(e=>Math.min(e+1,z.totalPages)),disabled:z.page>=z.totalPages,children:"Next"})]})]})]})]})]}),(0,t.jsx)(h.Dialog,{open:I,onOpenChange:T,children:(0,t.jsxs)(h.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(h.DialogHeader,{children:[(0,t.jsx)(h.DialogTitle,{children:"Empty event tables"}),(0,t.jsx)(h.DialogDescription,{children:"This clears runs, step results, and event logs. This cannot be undone."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>T(!1),disabled:D,children:"Cancel"}),(0,t.jsxs)(d.Button,{variant:"destructive",onClick:q,disabled:D,className:"gap-2",children:[(0,t.jsx)(x.Trash2Icon,{className:"size-4"}),D?"Emptying...":"Empty Table"]})]})]})}),(0,t.jsx)(h.Dialog,{open:N,onOpenChange:k,children:(0,t.jsxs)(h.DialogContent,{children:[(0,t.jsxs)(h.DialogHeader,{children:[(0,t.jsx)(h.DialogTitle,{children:"Event Detail"}),(0,t.jsx)(h.DialogDescription,{children:"Event log payload"})]}),b?(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:["Topic: ",b.topic]}),(0,t.jsxs)("div",{children:["Name: ",b.name]}),(0,t.jsxs)("div",{children:["Source: ",b.source]}),(0,t.jsxs)("div",{children:["Workspace: ",b.workspace||"-"]}),(0,t.jsxs)("div",{children:["Run ID: ",b.runId||"-"]}),(0,t.jsxs)("div",{children:["Workflow: ",b.workflowName||"-"]}),(0,t.jsxs)("div",{children:["Processed: ",b.processed?"true":"false"]}),(0,t.jsxs)("div",{children:["Created: ",S?.createdAt?S.createdAt.toLocaleString():"-"]}),(0,t.jsxs)("div",{children:["Processed At: ",S?.processedAt?S.processedAt.toLocaleString():"-"]}),S?.data?(0,t.jsxs)("div",{className:"mt-2 rounded bg-muted p-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Data"}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap break-words text-xs",children:(()=>{try{let e=JSON.parse(S.data||"");return JSON.stringify(e,null,2)}catch{return S.data}})()})]}):null,S?.error?(0,t.jsxs)("div",{className:"mt-2 rounded bg-muted p-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Error"}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap break-words text-xs text-destructive",children:S.error})]}):null]}):null]})})]})}e.s(["default",()=>v],82935)}]);