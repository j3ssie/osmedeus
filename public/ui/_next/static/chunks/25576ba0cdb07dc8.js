(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(43476),s=e.i(47163);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card/80 backdrop-blur-sm text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm transition-all duration-300 hover:shadow-[0_0_30px_rgba(32,178,170,0.12)] hover:-translate-y-0.5",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col gap-1.5 px-6",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>d,"CardHeader",()=>l,"CardTitle",()=>r])},97882,e=>{"use strict";let a=(0,e.i(75254).default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["LoaderIcon",()=>a],97882)},10708,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(48425),l=s.forwardRef((e,s)=>(0,a.jsx)(t.Primitive.label,{...e,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var r=e.i(47163);function i({className:e,...s}){return(0,a.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s})}e.s(["Label",()=>i],10708)},85562,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRightIcon",()=>a],85562)},68745,e=>{"use strict";var a=e.i(55161),s=e.i(62280),t=e.i(72536);async function l(e){if((0,t.isDemoMode)())return{message:"Demo mode: file upload is a stub",filename:e.name,path:`/tmp/demo/${e.name}`,size:e.size};let l=new FormData;return l.append("file",e),(await a.http.post(`${s.API_PREFIX}/upload-file`,l,{headers:{"Content-Type":"multipart/form-data"}})).data}async function r(e){if((0,t.isDemoMode)())return{message:"Demo mode: workflow upload is a stub",name:e.name.replace(/\.(ya?ml)$/i,""),kind:"flow",path:`/tmp/demo/${e.name}`};let l=new FormData;return l.append("file",e),(await a.http.post(`${s.API_PREFIX}/workflow-upload`,l,{headers:{"Content-Type":"multipart/form-data"}})).data}e.s(["uploadTargetsFile",()=>l,"uploadWorkflowFile",()=>r])},22679,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(70065),l=e.i(67881),r=e.i(23750),i=e.i(10708),n=e.i(68745),d=e.i(22016),o=e.i(46696),c=e.i(97882),p=e.i(85562);function m(){let[e,m]=s.useState(null),[u,h]=s.useState(!1),[x,f]=s.useState(null),[j,y]=s.useState(null),[g,w]=s.useState(!1),[v,b]=s.useState(null),k=async()=>{if(!e)return void o.toast.error("Please choose a YAML file");h(!0);try{let a=await (0,n.uploadWorkflowFile)(e);f(a),o.toast.success("Workflow uploaded",{description:`${a.name} (${a.kind})`})}catch(e){o.toast.error("Upload failed",{description:e instanceof Error?e.message:""})}finally{h(!1)}},C=async()=>{if(!j)return void o.toast.error("Please choose a targets file");w(!0);try{let e=await (0,n.uploadTargetsFile)(j);b(e),o.toast.success("File uploaded",{description:e.filename})}catch(e){o.toast.error("Upload failed",{description:e instanceof Error?e.message:""})}finally{w(!1)}},N=async e=>{try{await navigator.clipboard.writeText(e),o.toast.success("Copied to clipboard")}catch{o.toast.error("Failed to copy")}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(t.Card,{className:"max-w-2xl",children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Upload Workflow"}),(0,a.jsx)(t.CardDescription,{children:"POST /osm/api/workflow-upload"})]}),(0,a.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"workflow",children:"Workflow YAML"}),(0,a.jsx)(r.Input,{id:"workflow",type:"file",accept:".yaml,.yml",onChange:e=>m(e.target.files?.[0]??null)})]}),(0,a.jsxs)(l.Button,{onClick:k,disabled:u,children:[u?(0,a.jsx)(c.LoaderIcon,{className:"mr-2 size-4 animate-spin"}):null,"Upload"]}),x?(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Uploaded:"}),(0,a.jsx)("code",{className:"px-1 rounded bg-muted",children:x.name}),(0,a.jsxs)("span",{children:["(",x.kind,")"]}),(0,a.jsx)(l.Button,{variant:"link",asChild:!0,children:(0,a.jsxs)(d.default,{href:`/workflows-editor?workflow=${encodeURIComponent(x.name)}`,children:["Open in Editor",(0,a.jsx)(p.ArrowRightIcon,{className:"ml-1 size-4"})]})})]}),x.description?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Description:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:x.description})]}):null,(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Path:"}),(0,a.jsx)("code",{className:"px-1 rounded bg-muted break-all",children:x.path}),(0,a.jsx)(l.Button,{variant:"secondary",size:"sm",onClick:()=>N(x.path),children:"Copy Path"})]})]}):null]})]}),(0,a.jsxs)(t.Card,{className:"max-w-2xl",children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Upload Input File"}),(0,a.jsx)(t.CardDescription,{children:"POST /osm/api/upload-file"})]}),(0,a.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"targets",children:"Targets File"}),(0,a.jsx)(r.Input,{id:"targets",type:"file",accept:".txt",onChange:e=>y(e.target.files?.[0]??null)})]}),(0,a.jsxs)(l.Button,{onClick:C,disabled:g,children:[g?(0,a.jsx)(c.LoaderIcon,{className:"mr-2 size-4 animate-spin"}):null,"Upload"]}),v?(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Uploaded:"}),(0,a.jsx)("code",{className:"px-1 rounded bg-muted",children:v.filename})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Path:"}),(0,a.jsx)("code",{className:"px-1 rounded bg-muted break-all",children:v.path}),(0,a.jsx)(l.Button,{variant:"secondary",size:"sm",onClick:()=>N(v.path),children:"Copy Path"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:["number"==typeof v.size?(0,a.jsxs)("span",{children:["Size: ",v.size]}):null,"number"==typeof v.lines?(0,a.jsxs)("span",{children:["Lines: ",v.lines]}):null]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Use this path as target_file in scans."})]}):null]})]})]})}e.s(["default",()=>m])}]);