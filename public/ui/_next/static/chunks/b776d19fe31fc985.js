(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),l=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var r=e.i(47163);function n({className:e,...a}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...a})}e.s(["Label",()=>n],10708)},79319,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCwIcon",()=>t],79319)},70524,e=>{"use strict";let t=(0,e.i(75254).default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);e.s(["ClipboardIcon",()=>t],70524)},30374,e=>{"use strict";var t=e.i(43476),a=e.i(26999),s=e.i(95926),l=e.i(47163);function r({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function n({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function i({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s})}function c({className:e,children:r,...n}){return(0,t.jsxs)(i,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/95 backdrop-blur-md p-6 shadow-[0_0_40px_rgba(32,178,170,0.1)] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:max-w-lg sm:rounded-xl",e),...n,children:[r,(0,t.jsxs)(a.Close,{className:"absolute right-4 top-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(s.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function m({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg font-semibold leading-none",e),...s})}function x({className:e,...s}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,l.cn)("text-sm text-muted-foreground",e),...s})}e.s(["Dialog",()=>r,"DialogContent",()=>c,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>d,"DialogTitle",()=>m,"DialogTrigger",()=>n])},19036,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(81140),l=e.i(20783),r=e.i(69340),n=e.i(99682),i=e.i(35804);e.i(74080);var o=Symbol("radix.slottable");function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var r,n;let i,o,d,u=(n=r=`Primitive.${s}`,(i=a.forwardRef((e,t)=>{let{children:s,...r}=e;if(a.isValidElement(s)){var n;let e,i,o=(n=s,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),c=function(e,t){let a={...t};for(let s in t){let l=e[s],r=t[s];/^on[A-Z]/.test(s)?l&&r?a[s]=(...e)=>{let t=r(...e);return l(...e),t}:l&&(a[s]=l):"style"===s?a[s]={...l,...r}:"className"===s&&(a[s]=[l,r].filter(Boolean).join(" "))}return{...e,...a}}(r,s.props);return s.type!==a.Fragment&&(c.ref=t?(0,l.composeRefs)(t,o):o),a.cloneElement(s,c)}return a.Children.count(s)>1?a.Children.only(null):null})).displayName=`${n}.SlotClone`,o=i,(d=a.forwardRef((e,s)=>{let{children:l,...r}=e,n=a.Children.toArray(l),i=n.find(c);if(i){let e=i.props.children,l=n.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...r,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,t.jsx)(o,{...r,ref:s,children:l})})).displayName=`${r}.Slot`,d),m=a.forwardRef((e,a)=>{let{asChild:l,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?u:s,{...r,ref:a})});return m.displayName=`Primitive.${s}`,{...e,[s]:m}},{}),u="Switch",[m,x]=function(e,s=[]){let l=[],r=()=>{let t=l.map(e=>a.createContext(e));return function(s){let l=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return r.scopeName=e,[function(s,r){let n=a.createContext(r),i=l.length;l=[...l,r];let o=s=>{let{scope:l,children:r,...o}=s,c=l?.[e]?.[i]||n,d=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(c.Provider,{value:d,children:r})};return o.displayName=s+"Provider",[o,function(t,l){let o=l?.[e]?.[i]||n,c=a.useContext(o);if(c)return c;if(void 0!==r)return r;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let l=s.reduce((t,{useScope:a,scopeName:s})=>{let l=a(e)[`__scope${s}`];return{...t,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}(r,...s)]}(u),[p,h]=m(u),f=a.forwardRef((e,n)=>{let{__scopeSwitch:i,name:o,checked:c,defaultChecked:m,required:x,disabled:h,value:f="on",onCheckedChange:g,form:j,...y}=e,[w,N]=a.useState(null),k=(0,l.useComposedRefs)(n,e=>N(e)),S=a.useRef(!1),C=!w||j||!!w.closest("form"),[I,T]=(0,r.useControllableState)({prop:c,defaultProp:m??!1,onChange:g,caller:u});return(0,t.jsxs)(p,{scope:i,checked:I,disabled:h,children:[(0,t.jsx)(d.button,{type:"button",role:"switch","aria-checked":I,"aria-required":x,"data-state":v(I),"data-disabled":h?"":void 0,disabled:h,value:f,...y,ref:k,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{T(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,t.jsx)(b,{control:w,bubbles:!S.current,name:o,value:f,checked:I,required:x,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});f.displayName=u;var g="SwitchThumb",j=a.forwardRef((e,a)=>{let{__scopeSwitch:s,...l}=e,r=h(g,s);return(0,t.jsx)(d.span,{"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:a})});j.displayName=g;var b=a.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:o=!0,...c},d)=>{let u=a.useRef(null),m=(0,l.useComposedRefs)(u,d),x=(0,n.usePrevious)(r),p=(0,i.useSize)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==r&&t){let a=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(a)}},[x,r,o]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...c,tabIndex:-1,ref:m,style:{...c.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var y=e.i(47163);function w({className:e,...a}){return(0,t.jsx)(f,{"data-slot":"switch",className:(0,y.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-xs transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,children:(0,t.jsx)(j,{"data-slot":"switch-thumb",className:(0,y.cn)("pointer-events-none block size-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>w],19036)},4262,e=>{"use strict";let t=(0,e.i(75254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["TagIcon",()=>t],4262)},97565,e=>{"use strict";let t=(0,e.i(75254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["LayersIcon",()=>t],97565)},75200,e=>{"use strict";let t=(0,e.i(75254).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["BoxIcon",()=>t],75200)},43003,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(51673),l=e.i(72536),r=e.i(70065),n=e.i(23750),i=e.i(67881),o=e.i(94179),c=e.i(10708),d=e.i(19036),u=e.i(59377),m=e.i(71435),x=e.i(29383),p=e.i(62870),h=e.i(47627),f=e.i(30374),g=e.i(22016),j=e.i(78784),b=e.i(49200),v=e.i(70524),y=e.i(36902),w=e.i(78078),N=e.i(75254);let k=(0,N.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),S=(0,N.default)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var C=e.i(79319),I=e.i(88846),T=e.i(4262),z=e.i(97565),M=e.i(75200),D=e.i(29978),R=e.i(33565),_=e.i(46696),A=e.i(57763),P=e.i(47163);function B(){let[e,N]=a.useState([]),[B,L]=a.useState(!0),[E,H]=a.useState(""),[O,W]=a.useState("all"),[V,$]=a.useState("db"),[F,q]=a.useState([]),[Y,U]=a.useState("all"),[K,J]=a.useState(()=>(0,l.isDemoMode)()),X=a.useRef("all"),[Z,G]=a.useState(!1),[Q,ee]=a.useState(""),[et,ea]=a.useState(0),[es,el]=a.useState(20),[er,en]=a.useState(0),ei=a.useMemo(()=>{let e=Q.trim().toLowerCase();return e?F.filter(t=>t.toLowerCase().includes(e)):F},[F,Q]),[eo,ec]=a.useState({field:"name",direction:"asc"}),[ed,eu]=a.useState(!1),[em,ex]=a.useState(""),[ep,eh]=a.useState(""),[ef,eg]=a.useState(!1),ej=a.useCallback(async()=>{try{L(!0);let e=K?await (0,s.fetchMockWorkflowsList)({kind:"all"===O?void 0:O,search:E.trim()||void 0,tags:["mock-data"],offset:et,limit:es}):await (0,s.fetchWorkflowsList)({source:V,kind:"all"===O?void 0:O,search:E.trim()||void 0,tags:"all"!==Y?[Y]:void 0,offset:et,limit:es});N(e.items),en(e.pagination.total),!K&&(0,l.isDemoMode)()&&(J(!0),X.current=Y,U("all"))}catch(e){_.toast.error("Failed to load workflows",{description:e instanceof Error?e.message:""})}finally{L(!1)}},[V,O,E,Y,K,et,es]);a.useEffect(()=>{ej()},[ej]),a.useEffect(()=>{(async()=>{try{let e=await (0,s.fetchWorkflowTags)();q(e)}catch{q([])}})()},[]);let eb=async()=>{try{eg(!0);let e=await (0,s.refreshWorkflowIndex)(!1);_.toast.success(e.message||"Workflows indexed"),ea(0),ej()}catch(e){_.toast.error("Failed to refresh index",{description:e instanceof Error?e.message:""})}finally{eg(!1)}},ev=Math.floor(et/es)+1,ey=Math.ceil(er/es),ew=a.useCallback(e=>{ec(t=>t.field===e?{field:e,direction:"asc"===t.direction?"desc":"asc"}:{field:e,direction:"asc"})},[]),eN=a.useMemo(()=>{let t=(e,t)=>{switch(e){case"name":case"action":return{missing:!t.name,value:t.name??""};case"kind":return{missing:!t.kind,value:t.kind??""};case"description":return{missing:!t.description,value:(t.description??"").toString()};case"steps":return{missing:null==t.step_count,value:t.step_count??0};case"modules":return{missing:null==t.module_count,value:t.module_count??0};case"params":return{missing:!t.params||0===t.params.length,value:t.params?.length??0};case"tags":{let e=t.tags??[],a=e.join(",");return{missing:0===e.length,value:a}}}},a=[...e];return a.sort((e,a)=>{let s=t(eo.field,e),l=t(eo.field,a);if(s.missing&&l.missing)return 0;if(s.missing)return 1;if(l.missing)return -1;let r=0;return r="number"==typeof s.value&&"number"==typeof l.value?s.value-l.value:String(s.value).localeCompare(String(l.value),void 0,{numeric:!0,sensitivity:"base"}),"asc"===eo.direction?r:-r}),a},[e,eo.direction,eo.field]);return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(z.LayersIcon,{className:"size-5"}),"Workflows"]}),(0,t.jsx)(r.CardDescription,{children:"Browse and manage workflow definitions"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:eb,disabled:ef,children:[(0,t.jsx)(C.RefreshCwIcon,{className:`mr-2 size-4 ${ef?"animate-spin":""}`}),"Refresh Index"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-md border px-2 py-1",children:[(0,t.jsx)(c.Label,{htmlFor:"mock-only",className:"text-xs text-muted-foreground",children:"Show Mock Workflow"}),(0,t.jsx)(d.Switch,{id:"mock-only",checked:K,onCheckedChange:e=>{J(e),ea(0),e?(X.current=Y,U("all")):U(X.current||"all")}})]}),(0,t.jsxs)(f.Dialog,{open:ed,onOpenChange:eu,children:[(0,t.jsx)(f.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{size:"sm",children:[(0,t.jsx)(k,{className:"mr-2 size-4"}),"Upload"]})}),(0,t.jsxs)(f.DialogContent,{className:"sm:max-w-xl",children:[(0,t.jsxs)(f.DialogHeader,{children:[(0,t.jsx)(f.DialogTitle,{children:"Upload Workflow YAML"}),(0,t.jsx)(f.DialogDescription,{children:"Paste YAML content. If ID is empty, name from YAML is used."})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Input,{placeholder:"Workflow ID (optional)",value:ep,onChange:e=>eh(e.target.value)}),(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"icon",disabled:!em,onClick:async()=>{try{await navigator.clipboard.writeText(em),_.toast.success("Copied to clipboard")}catch{_.toast.error("Failed to copy")}},children:[(0,t.jsx)(v.ClipboardIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Copy YAML"})]})}),(0,t.jsx)("textarea",{value:em,onChange:e=>ex(e.target.value),className:"min-h-48 w-full rounded-md border bg-background p-3 font-mono text-sm",placeholder:"Paste YAML here..."})]}),(0,t.jsxs)(f.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>{eu(!1),ex(""),eh("")},children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:()=>{try{let e=A.default.load(em)||{},t=(ep||e?.name||"").toString().trim();if(!t)return void _.toast.error("Invalid YAML or missing name/ID");{let e=window.localStorage.getItem("osmedeus_custom_workflows"),a=e?JSON.parse(e):{};a[t]=em,window.localStorage.setItem("osmedeus_custom_workflows",JSON.stringify(a))}_.toast.success("Workflow uploaded",{description:`Added ${t}`}),eu(!1),ex(""),eh(""),ej()}catch(e){_.toast.error("Failed to parse YAML",{description:e instanceof Error?e.message:""})}},children:"Save"})]})]})]})]})]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[(0,t.jsx)(I.SearchIcon,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search workflows...",value:E,onChange:e=>{H(e.target.value),ea(0)},className:"pl-9"})]}),(0,t.jsxs)(p.Select,{value:V,onValueChange:e=>{$(e),ea(0)},children:[(0,t.jsx)(p.SelectTrigger,{className:"w-[140px]",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:["filesystem"===V?(0,t.jsx)(S,{className:"size-4 text-muted-foreground"}):(0,t.jsx)(y.DatabaseIcon,{className:"size-4 text-muted-foreground"}),(0,t.jsx)(p.SelectValue,{placeholder:"Source"})]})}),(0,t.jsxs)(p.SelectContent,{children:[(0,t.jsx)(p.SelectItem,{value:"db",children:"Database"}),(0,t.jsx)(p.SelectItem,{value:"filesystem",children:"Filesystem"})]})]}),(0,t.jsxs)(p.Select,{value:O,onValueChange:e=>{W(e),ea(0)},children:[(0,t.jsx)(p.SelectTrigger,{className:"w-[130px]",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:["module"===O?(0,t.jsx)(M.BoxIcon,{className:"size-4 text-muted-foreground"}):(0,t.jsx)(z.LayersIcon,{className:"size-4 text-muted-foreground"}),(0,t.jsx)(p.SelectValue,{placeholder:"Kind"})]})}),(0,t.jsxs)(p.SelectContent,{children:[(0,t.jsx)(p.SelectItem,{value:"all",children:"All Kinds"}),(0,t.jsx)(p.SelectItem,{value:"module",children:"Module"}),(0,t.jsx)(p.SelectItem,{value:"flow",children:"Flow"})]})]}),(0,t.jsxs)(u.Popover,{open:Z,onOpenChange:e=>{G(e),e||ee("")},children:[(0,t.jsx)(u.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"outline",disabled:K,className:"w-[200px] justify-between",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)(T.TagIcon,{className:"size-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"truncate",children:"all"===Y?"All Tags":Y})]}),(0,t.jsx)(b.ChevronsUpDownIcon,{className:"size-4 opacity-50"})]})}),(0,t.jsxs)(u.PopoverContent,{className:"w-[240px] p-0",align:"start",children:[(0,t.jsx)("div",{className:"p-2 border-b",children:(0,t.jsx)(n.Input,{placeholder:"Search tags...",value:Q,onChange:e=>ee(e.target.value),className:"h-8"})}),(0,t.jsx)(m.ScrollArea,{className:"h-[240px]",children:(0,t.jsxs)("div",{className:"p-2 space-y-1",children:[(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",className:(0,P.cn)("w-full justify-start h-8","all"===Y&&"bg-muted"),onClick:()=>{U("all"),ea(0),G(!1)},children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-4 inline-flex items-center justify-center",children:"all"===Y&&(0,t.jsx)(j.CheckIcon,{className:"size-4"})}),"All Tags"]})}),ei.map(e=>(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",className:(0,P.cn)("w-full justify-start h-8",Y===e&&"bg-muted"),onClick:()=>{U(e),ea(0),G(!1)},children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"size-4 inline-flex items-center justify-center",children:Y===e&&(0,t.jsx)(j.CheckIcon,{className:"size-4"})}),(0,t.jsx)("span",{className:"truncate",children:e})]})},e)),0===ei.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No tags found"})]})})]})]})]}),B?(0,t.jsx)("div",{className:"py-16 text-center text-sm text-muted-foreground",children:"Loading..."}):0===e.length?(0,t.jsx)("div",{className:"py-16 text-center text-sm text-muted-foreground",children:"No workflows found"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Table,{children:[(0,t.jsx)(h.TableHeader,{children:(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(x.SortableTableHead,{field:"name",currentSort:eo,onSort:e=>ew(e),children:"Name"}),(0,t.jsx)(x.SortableTableHead,{field:"kind",currentSort:eo,onSort:e=>ew(e),className:"w-[100px]",children:"Kind"}),(0,t.jsx)(x.SortableTableHead,{field:"description",currentSort:eo,onSort:e=>ew(e),className:"hidden md:table-cell",children:"Description"}),(0,t.jsx)(x.SortableTableHead,{field:"steps",currentSort:eo,onSort:e=>ew(e),className:"w-[80px] text-center",children:"Steps"}),(0,t.jsx)(x.SortableTableHead,{field:"modules",currentSort:eo,onSort:e=>ew(e),className:"w-[80px] text-center hidden sm:table-cell",children:"Modules"}),(0,t.jsx)(x.SortableTableHead,{field:"params",currentSort:eo,onSort:e=>ew(e),className:"w-[80px] text-center hidden sm:table-cell",children:"Params"}),(0,t.jsx)(x.SortableTableHead,{field:"tags",currentSort:eo,onSort:e=>ew(e),className:"hidden lg:table-cell",children:"Tags"}),(0,t.jsx)(x.SortableTableHead,{field:"action",currentSort:eo,onSort:e=>ew(e),className:"w-[80px]",children:"Action"})]})}),(0,t.jsx)(h.TableBody,{children:eN.map(e=>(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(h.TableCell,{className:"font-medium",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.BoxIcon,{className:"size-4 text-muted-foreground"}),(0,t.jsx)("span",{children:e.name})]})}),(0,t.jsx)(h.TableCell,{children:(0,t.jsx)(o.Badge,{variant:"outline",className:"flow"===e.kind?"border-purple-300 bg-purple-50 text-purple-700 dark:border-purple-700 dark:bg-purple-950 dark:text-purple-300":"border-indigo-300 bg-indigo-50 text-indigo-700 dark:border-indigo-700 dark:bg-indigo-950 dark:text-indigo-300",children:e.kind})}),(0,t.jsx)(h.TableCell,{className:"hidden md:table-cell text-muted-foreground max-w-[300px] truncate",children:e.description||"-"}),(0,t.jsx)(h.TableCell,{className:"text-center",children:e.step_count}),(0,t.jsx)(h.TableCell,{className:"text-center hidden sm:table-cell",children:e.module_count}),(0,t.jsxs)(h.TableCell,{className:"text-center hidden sm:table-cell",children:[e.params?.length||0,e.required_params?.length>0&&(0,t.jsxs)("span",{className:"text-muted-foreground text-xs ml-1",children:["(",e.required_params.length," req)"]})]}),(0,t.jsx)(h.TableCell,{className:"hidden lg:table-cell",children:(0,t.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(e.tags||[]).slice(0,3).map(e=>(0,t.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:e},e)),(e.tags||[]).length>3&&(0,t.jsxs)(o.Badge,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})}),(0,t.jsx)(h.TableCell,{children:(0,t.jsx)(i.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(g.default,{href:`/workflows/${encodeURIComponent(e.name)}`,children:[(0,t.jsx)(w.EyeIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Open"})]})})})]},e.name))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",et+1,"-",Math.min(et+es,er)," of ",er]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>ea(Math.max(0,et-es)),disabled:et<=0,children:[(0,t.jsx)(D.ChevronLeftIcon,{className:"size-4"}),"Prev"]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",ev," of ",ey]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>ea(et+es),disabled:et+es>=er,children:["Next",(0,t.jsx)(R.ChevronRightIcon,{className:"size-4"})]}),(0,t.jsxs)(p.Select,{value:String(es),onValueChange:e=>{el(Number(e)),ea(0)},children:[(0,t.jsx)(p.SelectTrigger,{className:"w-[90px]",children:(0,t.jsx)(p.SelectValue,{})}),(0,t.jsxs)(p.SelectContent,{children:[(0,t.jsx)(p.SelectItem,{value:"20",children:"20/page"}),(0,t.jsx)(p.SelectItem,{value:"50",children:"50/page"}),(0,t.jsx)(p.SelectItem,{value:"100",children:"100/page"})]})]})]})]})]})]})]})})}e.s(["default",()=>B],43003)}]);